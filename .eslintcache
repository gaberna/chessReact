[{"E:\\Gagga\\chess-react\\src\\reportWebVitals.js":"1","E:\\Gagga\\chess-react\\src\\App.js":"2","E:\\Gagga\\chess-react\\src\\index.js":"3","E:\\Gagga\\chess-react\\src\\Pieces\\whitePiece.js":"4","E:\\Gagga\\chess-react\\src\\Pieces\\blackPiece.js":"5","E:\\Gagga\\chess-react\\src\\WebSocketClient\\WebSocketClient.js":"6","E:\\Gagga\\chess-react\\src\\pieces.js":"7","E:\\Gagga\\chess-react\\src\\Pieces\\PieceFactory.js":"8","E:\\Gagga\\chess-react\\src\\WebSocketClient\\TurnManager.js":"9","E:\\Gagga\\chess-react\\src\\WebSocketClient\\EventManager.js":"10"},{"size":362,"mtime":1606265362668,"results":"11","hashOfConfig":"12"},{"size":240,"mtime":1607352033422,"results":"13","hashOfConfig":"12"},{"size":500,"mtime":1606265362668,"results":"14","hashOfConfig":"12"},{"size":2307,"mtime":1607439312854,"results":"15","hashOfConfig":"12"},{"size":952,"mtime":1607351966849,"results":"16","hashOfConfig":"12"},{"size":3712,"mtime":1607463098390,"results":"17","hashOfConfig":"12"},{"size":938,"mtime":1607374233319,"results":"18","hashOfConfig":"12"},{"size":263,"mtime":1607456830800,"results":"19","hashOfConfig":"12"},{"size":1157,"mtime":1607456552056,"results":"20","hashOfConfig":"12"},{"size":746,"mtime":1607462964032,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1w5johp",{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\Gagga\\chess-react\\src\\reportWebVitals.js",[],"E:\\Gagga\\chess-react\\src\\App.js",["45"],"import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { WebSocketClient } from \"./WebSocketClient/WebSocketClient\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <WebSocketClient />\n    </div>\n  );\n}\n\nexport default App;\n","E:\\Gagga\\chess-react\\src\\index.js",[],["46","47"],"E:\\Gagga\\chess-react\\src\\Pieces\\whitePiece.js",[],"E:\\Gagga\\chess-react\\src\\Pieces\\blackPiece.js",[],"E:\\Gagga\\chess-react\\src\\WebSocketClient\\WebSocketClient.js",["48","49","50","51"],"import React, {\r\n  useState,\r\n  useCallback,\r\n  useMemo,\r\n  useRef,\r\n  // useEffect,\r\n} from \"react\";\r\nimport useWebSocket, { ReadyState } from \"react-use-websocket\";\r\nimport { responseMsje } from \"./EventManager\";\r\n\r\nexport const WebSocketClient = () => {\r\n  //Public API that will echo messages sent to it back to the client\r\n  const [socketUrl, setSocketUrl] = useState(\r\n    \"ws://megachess.herokuapp.com/service?authtoken=b12fdd43-930d-4f8d-8f41-24cdae62ba85\"\r\n  );\r\n  const messageHistory = useRef([]);\r\n  const [userList, setuserList] = useState([]);\r\n  const [lastData, setLastData] = useState(\"\");\r\n  const {\r\n    sendMessage,\r\n    lastMessage,\r\n    readyState,\r\n    sendJsonMessage,\r\n  } = useWebSocket(socketUrl, {\r\n    shouldReconnect: (closeEvent) => true,\r\n    onMessage: (message) => {\r\n      console.log(\"new message received: \" + message.data);\r\n      handleSend(message, sendJson(), sendMje());\r\n      setuserList(JSON.parse(message.data).data.users_list);\r\n      setLastData(JSON.parse(message.data));\r\n    },\r\n  });\r\n\r\n  const sendMje = (mje) => {\r\n    sendMessage({\r\n      action: mje.action,\r\n      data: mje.data,\r\n    });\r\n  };\r\n\r\n  const sendJson = (mje) => {\r\n    sendJsonMessage({\r\n      action: mje.action,\r\n      data: {\r\n        board_id: mje.data.board_id,\r\n      },\r\n    });\r\n  };\r\n\r\n  messageHistory.current = useMemo(\r\n    () => messageHistory.current.concat(lastMessage),\r\n    [lastMessage]\r\n  );\r\n\r\n  const handleSend = (message) => {\r\n    responseMsje(message);\r\n  };\r\n\r\n  messageHistory.current = useMemo(\r\n    () => messageHistory.current.concat(lastMessage),\r\n    [lastMessage]\r\n  );\r\n\r\n  const handleClickChangeSocketUrl = useCallback(\r\n    () =>\r\n      setSocketUrl(\r\n        \"ws://megachess.herokuapp.com/service?authtoken=b12fdd43-930d-4f8d-8f41-24cdae62ba85\"\r\n      ),\r\n    []\r\n  );\r\n\r\n  const handleClickSendMessage = useCallback(\r\n    () => (\r\n      sendMessage({\r\n        action: \"login\",\r\n        data: {},\r\n      }),\r\n      []\r\n    )\r\n  );\r\n\r\n  const handleClickChallengue = useCallback(\r\n    () => (\r\n      sendMessage({\r\n        action: \"challenge\",\r\n        data: {\r\n          username: \"gaberna\",\r\n          message: \"WAR!\",\r\n        },\r\n      }),\r\n      []\r\n    )\r\n  );\r\n\r\n  const handleClickAbort = (lastData) => {\r\n    console.log(\"lastData:\", lastData);\r\n    sendMessage({\r\n      action: \"abort\",\r\n      data: {\r\n        board_id: lastData.board_id,\r\n      },\r\n    });\r\n  };\r\n\r\n  const connectionStatus = {\r\n    [ReadyState.CONNECTING]: \"Connecting\",\r\n    [ReadyState.OPEN]: \"Open\",\r\n    [ReadyState.CLOSING]: \"Closing\",\r\n    [ReadyState.CLOSED]: \"Closed\",\r\n    [ReadyState.UNINSTANTIATED]: \"Uninstantiated\",\r\n  }[readyState];\r\n\r\n  return (\r\n    <div>\r\n      {console.log(userList)}\r\n      <button onClick={handleClickChangeSocketUrl}>\r\n        Click Me to change Socket Url\r\n      </button>\r\n      <button\r\n        onClick={handleClickSendMessage}\r\n        disabled={readyState !== ReadyState.OPEN}\r\n      >\r\n        LOGIN\r\n      </button>\r\n      <button\r\n        onClick={handleClickChallengue}\r\n        disabled={readyState !== ReadyState.OPEN}\r\n      >\r\n        CHALLENGUE User\r\n      </button>\r\n      <button\r\n        onClick={handleClickAbort(lastData)}\r\n        disabled={readyState !== ReadyState.OPEN}\r\n      >\r\n        Abort!\r\n      </button>\r\n\r\n      <hr />\r\n      <div>\r\n        <span>The WebSocket is currently {connectionStatus}</span>\r\n        <span>\r\n          {lastMessage ? <span>Last message: {lastMessage.data}</span> : null}\r\n        </span>\r\n        {/* <ul>\r\n        {messageHistory.current.map((message, idx) => (\r\n          <span key={idx}>{message.data}</span>\r\n        ))}\r\n      </ul> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","E:\\Gagga\\chess-react\\src\\pieces.js",["52"],"E:\\Gagga\\chess-react\\src\\Pieces\\PieceFactory.js",[],"E:\\Gagga\\chess-react\\src\\WebSocketClient\\TurnManager.js",[],"E:\\Gagga\\chess-react\\src\\WebSocketClient\\EventManager.js",[],{"ruleId":"53","severity":1,"message":"54","line":1,"column":8,"nodeType":"55","messageId":"56","endLine":1,"endColumn":12},{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","severity":1,"message":"62","line":72,"column":34,"nodeType":"55","endLine":72,"endColumn":45},{"ruleId":"63","severity":1,"message":"64","line":77,"column":9,"nodeType":"65","messageId":"66","endLine":77,"endColumn":10},{"ruleId":"61","severity":1,"message":"62","line":82,"column":33,"nodeType":"55","endLine":82,"endColumn":44},{"ruleId":"63","severity":1,"message":"64","line":90,"column":9,"nodeType":"65","messageId":"66","endLine":90,"endColumn":10},{"ruleId":"67","severity":1,"message":"68","line":12,"column":3,"nodeType":"69","messageId":"70","endLine":37,"endColumn":4},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","no-native-reassign",["71"],"no-negated-in-lhs",["72"],"react-hooks/exhaustive-deps","React Hook useCallback does nothing when called with only one argument. Did you forget to pass an array of dependencies?","no-sequences","Unexpected use of comma operator.","SequenceExpression","unexpectedCommaExpression","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","no-global-assign","no-unsafe-negation"]